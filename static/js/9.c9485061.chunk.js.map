{"version":3,"sources":["Components/ItemTable.jsx"],"names":["createData","itemKey","item","winRate","top4Rate","commonUnits","timesPlayed","descendingComparator","a","b","orderBy","headCells","id","numeric","sortable","label","createRows","itemStats","rows","Object","entries","itemNames","itemName","unitItems","push","StyledTableSortLabel","withStyles","root","color","active","icon","TableSortLabel","EnhancedTableHead","props","classes","order","onRequestSort","map","headCell","key","align","sortDirection","className","direction","onClick","property","event","visuallyHidden","useStyles","makeStyles","theme","width","spacing","margin","backgroundColor","bodyCell","itemCell","display","alignItems","itemAvatar","marginRight","unitAvatar","unitBox","justifyContent","border","clip","height","overflow","padding","position","top","ItemTable","React","useState","setOrder","setOrderBy","setRows","useEffect","fetch","itemDataResponse","commonUnitsResponse","json","itemData","fetchData","array","comparator","stabilizedThis","el","index","sort","stableSort","getComparator","row","labelId","hover","component","scope","title","variant","src","itemImages","parseInt","champNames","champImages"],"mappings":"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","file":"static/js/9.c9485061.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { itemImages, itemNames } from '../Static/items/ItemData.js'\r\nimport { champImages, champNames } from '../Static/champions/ChampData.js'\r\nimport { Box } from '@material-ui/core';\r\nimport { useEffect } from 'react';\r\n\r\nfunction createData(itemKey, item, winRate, top4Rate, commonUnits, timesPlayed) {\r\n    return { itemKey, item, winRate, top4Rate, commonUnits, timesPlayed };\r\n}\r\n\r\nfunction descendingComparator(a, b, orderBy) {\r\n    if (b[orderBy] < a[orderBy]) {\r\n      return -1;\r\n    }\r\n    if (b[orderBy] > a[orderBy]) {\r\n      return 1;\r\n    }\r\n    return 0;\r\n}\r\n\r\nfunction getComparator(order, orderBy) {\r\n    return order === 'desc'\r\n      ? (a, b) => descendingComparator(a, b, orderBy)\r\n      : (a, b) => -descendingComparator(a, b, orderBy);\r\n}\r\n\r\nfunction stableSort(array, comparator) {\r\n    const stabilizedThis = array.map((el, index) => [el, index]);\r\n    stabilizedThis.sort((a, b) => {\r\n      const order = comparator(a[0], b[0]);\r\n      if (order !== 0) return order;\r\n      return a[1] - b[1];\r\n    });\r\n    return stabilizedThis.map((el) => el[0]);\r\n}\r\n\r\nconst headCells = [\r\n    { id: 'item', numeric: false, sortable: true, label: 'Item' },\r\n    { id: 'winRate', numeric: true, sortable: true, label: 'Win Rate' },\r\n    { id: 'top4Rate', numeric: true, sortable: true, label: 'Top 4 Rate' },\r\n    { id: 'commonUnits', numeric: false, sortable: false, label: 'Most Used Units' },\r\n    { id: 'timesPlayed', numeric: true, sortable: true, label: 'Times Used' },\r\n];\r\n\r\nfunction createRows(itemStats, commonUnits) {\r\n    const rows = [];\r\n    for (const [itemKey, itemName] of Object.entries(itemNames)) {\r\n        const winRate = itemStats[itemKey]['winPercentage'] * 100\r\n        const top4Rate = itemStats[itemKey]['top4Percentage'] * 100\r\n        const timesPlayed = itemStats[itemKey]['totalTimesPlayed']\r\n        const unitItems = commonUnits[itemKey]\r\n        rows.push(createData(itemKey, itemName, winRate, top4Rate, unitItems, timesPlayed))\r\n    }\r\n    return rows\r\n}\r\n\r\nconst StyledTableSortLabel = withStyles({\r\n    root: {\r\n        color: 'white',\r\n        '&:hover': {\r\n            color: 'white',\r\n        },\r\n        '&$active': {\r\n            color: 'white',\r\n        },\r\n    },\r\n    active: {},\r\n    icon: {\r\n        color: 'inherit !important'\r\n    }\r\n})(TableSortLabel);\r\n\r\nfunction EnhancedTableHead(props) {\r\n    const { classes, order, orderBy, onRequestSort } = props;\r\n    const createSortHandler = (property) => (event) => {\r\n        onRequestSort(event, property);\r\n    };\r\n  \r\n    return (\r\n      <TableHead>\r\n        <TableRow>\r\n          {headCells.map((headCell) => (\r\n            <TableCell\r\n                key={headCell.id}\r\n                align={headCell.id === 'item' ? 'left' : 'center'}\r\n                sortDirection={orderBy === headCell.id ? order : false}\r\n                className={classes.headCell}\r\n            >\r\n                {headCell.sortable === true &&\r\n                <StyledTableSortLabel\r\n                    active={orderBy === headCell.id}\r\n                    direction={orderBy === headCell.id ? order : 'asc'}\r\n                    onClick={createSortHandler(headCell.id)}\r\n                >\r\n                    {headCell.label}\r\n                    {orderBy === headCell.id ? (\r\n                    <span className={classes.visuallyHidden}>\r\n                        {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\r\n                    </span>\r\n                    ) : null}\r\n                </StyledTableSortLabel>}\r\n                {headCell.sortable === false &&\r\n                    headCell.label\r\n                }\r\n            </TableCell>\r\n          ))}\r\n        </TableRow>\r\n      </TableHead>\r\n    );\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    onRequestSort: PropTypes.func.isRequired,\r\n    order: PropTypes.oneOf(['asc', 'desc']).isRequired,\r\n    orderBy: PropTypes.string.isRequired,\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: theme.spacing(130),\r\n        margin: 'auto',\r\n    },\r\n    headCell: {\r\n        backgroundColor: '#263238',\r\n        color: 'white',\r\n    },\r\n    bodyCell: {\r\n        backgroundColor: '#F5F5F6',\r\n    },\r\n    itemCell: {\r\n        backgroundColor: '#F5F5F6',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n    },\r\n    itemAvatar: {\r\n        marginRight: theme.spacing(2),\r\n    },\r\n    unitAvatar: {\r\n        marginRight: theme.spacing(2),\r\n    },\r\n    unitBox: {\r\n        display: 'flex',\r\n        margin: 'auto',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    visuallyHidden: {\r\n        border: 0,\r\n        clip: 'rect(0 0 0 0)',\r\n        height: 1,\r\n        margin: -1,\r\n        overflow: 'hidden',\r\n        padding: 0,\r\n        position: 'absolute',\r\n        top: 20,\r\n        width: 1,\r\n    },\r\n}));\r\n\r\nexport default function ItemTable(props) {\r\n    const classes = useStyles();\r\n    const [order, setOrder] = React.useState('asc');\r\n    const [orderBy, setOrderBy] = React.useState('item');\r\n    const [rows, setRows] = React.useState([])\r\n\r\n    const handleRequestSort = (event, property) => {\r\n        const isAsc = orderBy === property && order === 'asc';\r\n        setOrder(isAsc ? 'desc' : 'asc');\r\n        setOrderBy(property);\r\n    };\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            const itemDataResponse = await fetch('https://tftstats-api.herokuapp.com/itemPercentages')\r\n            const commonUnitsResponse = await fetch('https://tftstats-api.herokuapp.com/commonUnits')\r\n            const itemData = await itemDataResponse.json()\r\n            const commonUnits = await commonUnitsResponse.json()\r\n            const rows = createRows(itemData, commonUnits)\r\n            setRows(rows)\r\n        }\r\n        fetchData()\r\n    }, [])\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Paper>\r\n                <TableContainer>\r\n                    <Table>\r\n                        <EnhancedTableHead\r\n                            classes={classes}\r\n                            order={order}\r\n                            orderBy={orderBy}\r\n                            onRequestSort={handleRequestSort}\r\n                        />\r\n                        <TableBody>\r\n                            {stableSort(rows, getComparator(order, orderBy)).map((row, index) => {\r\n                                const labelId = `row-${index}`\r\n                                return (\r\n                                    <TableRow hover key={row.item}>\r\n                                        <TableCell component=\"th\" id={labelId} scope=\"row\" className={classes.itemCell}>\r\n                                            <Tooltip title={row.item}>\r\n                                                <Avatar variant='rounded' className={classes.itemAvatar} src={itemImages[row.itemKey]} />\r\n                                            </Tooltip>\r\n                                            {row.item}\r\n                                        </TableCell>\r\n                                        <TableCell className={classes.bodyCell} align=\"center\"> {parseInt(row.winRate) + '%'} </TableCell>\r\n                                        <TableCell className={classes.bodyCell} align=\"center\"> {parseInt(row.top4Rate) + '%'} </TableCell>\r\n                                        <TableCell className={classes.bodyCell} align=\"center\">\r\n                                            <Box className={classes.unitBox}>\r\n                                                <Tooltip title={champNames[row.commonUnits[0][0]]}>\r\n                                                    <Avatar variant='rounded' className={classes.unitAvatar} src={champImages[row.commonUnits[0][0]]} />\r\n                                                </Tooltip>\r\n                                                <Tooltip title={champNames[row.commonUnits[1][0]]}>\r\n                                                    <Avatar variant='rounded' className={classes.unitAvatar} src={champImages[row.commonUnits[1][0]]} />\r\n                                                </Tooltip>\r\n                                                <Tooltip title={champNames[row.commonUnits[2][0]]}>\r\n                                                    <Avatar variant='rounded' className={classes.unitAvatar} src={champImages[row.commonUnits[2][0]]} />\r\n                                                </Tooltip>\r\n                                            </Box>\r\n                                        </TableCell>\r\n                                        <TableCell className={classes.bodyCell} align=\"center\"> {parseInt(row.timesPlayed)} </TableCell>\r\n                                    </TableRow>\r\n                                );\r\n                            })}\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n"],"sourceRoot":""}